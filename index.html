<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minha coleção de sites para diversas utilidades</title>

  <link href="style.css" rel="stylesheet" type="text/css" media="all">

</head>

<body>

  <header>
    <h1>Minha coleção de sites</h1>
  </header>

  <main>
    <div id="sitesContainer">
      <ul id="sitesList"></ul>
    </div>
  </main>

  <!--
    <form>
    <input type="text" placeholder="Pesquisar por sites...">
    <button type="submit">Pesquisar</button>  
  </form>
-->
  <script>
   fetch('sites.json')
.then(response => response.json())
.then(data => {

  const sites = data;

  sites.sort((a, b) => {
    const siteA = a.name.toUpperCase();
    const siteB = b.name.toUpperCase();

    if (siteA < siteB) {
      return -1;
    }

    if (siteA > siteB) {
      return 1; 
    }

    return 0;
  });

  const sitesContainer = document.getElementById('sitesContainer');
  const sitesList = document.getElementById('sitesList');

  sites.forEach(site => {
    
    const listItem = document.createElement('li');

    listItem.innerHTML = `
      <h3>${site.name}</h3>
      <p>${site.desc}</p>
    `;

    listItem.addEventListener('click', function() {
      window.location.href = site.url; 
    });
    
    sitesList.appendChild(listItem);

  });

})
.catch(error => {
  console.error(error);
});
  </script>

</body>
</html>